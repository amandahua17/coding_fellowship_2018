<html>
	<head>
		<style>
			#container {
			  width: 200px;
			  height: 200px;
			  background: #ccc;
			  position: relative;
			}
			#box {
			  width: 50px;
			  height: 50px;
			  background: #eef;
			  position: absolute;
			}
		</style>
	<head>
	<body>
		<div id="container">
		   <div id="box"> </div>
		</div>
		<script type = "text/javascript">
			var posw = 0;
			var posh = 0;
			var right = true;
			var down = true;
			//our box element
			var box = document.getElementById("box");
			var wspeed = Math.random()*5+1;
			var hspeed = Math.random()*5+1;

			// document.write('setting interval...');
			var t = setInterval(move, 20);

			function move(){
				// document.write("\n1: posw = ", posw, "\nposh = ", posh);
				if((hspeed<=0)||(wspeed<=0)){
					if(hitwall()
					// document.write("you lost momentum!");
					clearInterval(t);
					// document.write("you lost momentum!");
					var p = document.createElement("p");
					var node = document.createTextNode("You lost momentum!");
					p.appendChild(node);
					body.replaceChild(node, box);
				}

				if(posw<=0){
					right=true;
					wspeed-=.1;	//lose momentum with collision
				}else if(posw>=150){
					right=false;
					wspeed-=.1;
				}
				if(posh<=0){
					down=true;
					hspeed-=.1;
				}else if(posh>=150){
					down=false;
					hspeed-=.1;
				}

				if(right&&down){
				// document.write('movedr\n');
					movedr();
				}else if (right&&!down){
					moveur();
				}else if(!right&&down){
					movedl();
				}else{
					moveul();
				}
				// document.write("2: posw = ", posw, "\nposh = ", posh);
			}
			function movedr() {
				// document.write('movedr\n');
			    posw += wspeed;
				posh += hspeed;
			    box.style.left = posw+"px";
				box.style.top = posh+"px";
			}
			function movedl() {
				// document.write('movedl\n')
			    posw -= wspeed;
				posh += hspeed;
			    box.style.left = posw+"px";
				box.style.top = posh+"px";
			}
			function moveul() {
				// document.write('moveul\n');
			    posw -= wspeed;
				posh -= hspeed;
			    box.style.left = posw+"px";
				box.style.top = posh+"px";
			}
			function moveur() {
				// document.write('moveur\n');
			    posw += wspeed;
				posh -= hspeed;
			    box.style.left = posw+"px";
				box.style.top = posh+"px";
			}
		</script>
	</body>
<html>
